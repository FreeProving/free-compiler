<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FreeC.Environment.Renamer</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/FreeC.Environment.Renamer.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">free-compiler-0.2.0.0: A Haskell to Coq compiler.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">FreeC.Environment.Renamer</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Predicates</a></li><li><a href="#g:2">Rename Identifiers</a></li><li><a href="#g:3">Define and Automatically Rename Identifiers</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Contains functions for renaming Haskell identifiers such that they can be
   safely used as Coq and Agda identifiers.</p><p>Identifiers must not conflict with Coq keywords and must not shadow
   types, constructors and functions from the Base library.</p><p>Renaming identifiers is also required because in Haskell the scopes for
   types and functions are separated. Thus it is allowed in Haskell for a
   data type to have the same name as one of it's constructors. In Coq this
   would cause a name conflict. Therefore, one of them needs to be renamed.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:mustRenameIdent">mustRenameIdent</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:renameIdent">renameIdent</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:renameQualid">renameQualid</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; Qualid</li><li class="src short"><a href="#v:renameAgdaQualid">renameAgdaQualid</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; QName</li><li class="src short"><a href="#v:renameEntry">renameEntry</a> :: <a href="FreeC-Environment-Entry.html#t:EnvEntry" title="FreeC.Environment.Entry">EnvEntry</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; <a href="FreeC-Environment-Entry.html#t:EnvEntry" title="FreeC.Environment.Entry">EnvEntry</a></li><li class="src short"><a href="#v:renameAndAddEntry">renameAndAddEntry</a> :: <a href="FreeC-Environment-Entry.html#t:EnvEntry" title="FreeC.Environment.Entry">EnvEntry</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> <a href="FreeC-Environment-Entry.html#t:EnvEntry" title="FreeC.Environment.Entry">EnvEntry</a></li><li class="src short"><a href="#v:renameAndDefineTypeVar">renameAndDefineTypeVar</a> :: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> Qualid</li><li class="src short"><a href="#v:renameAndDefineAgdaTypeVar">renameAndDefineAgdaTypeVar</a> :: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> QName</li><li class="src short"><a href="#v:renameAndDefineVar">renameAndDefineVar</a> :: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="FreeC-IR-Syntax-Type.html#t:Type" title="FreeC.IR.Syntax.Type">Type</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> Qualid</li><li class="src short"><a href="#v:renameAndDefineAgdaVar">renameAndDefineAgdaVar</a> :: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="FreeC-IR-Syntax-Type.html#t:Type" title="FreeC.IR.Syntax.Type">Type</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> QName</li><li class="src short"><a href="#v:renameAndDefineLIRVar">renameAndDefineLIRVar</a> :: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="FreeC-IR-Syntax-Type.html#t:Type" title="FreeC.IR.Syntax.Type">Type</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> <a href="FreeC-IR-Syntax-Name.html#t:QName" title="FreeC.IR.Syntax.Name">QName</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Predicates</h1></a><div class="top"><p class="src"><a id="v:mustRenameIdent" class="def">mustRenameIdent</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/FreeC.Environment.Renamer.html#mustRenameIdent" class="link">Source</a> <a href="#v:mustRenameIdent" class="selflink">#</a></p><div class="doc"><p>Tests whether the given Coq identifier must be renamed because it would
   otherwise conflict with a keyword, reserved or user defined
   identifier.</p></div></div><a href="#g:2" id="g:2"><h1>Rename Identifiers</h1></a><div class="top"><p class="src"><a id="v:renameIdent" class="def">renameIdent</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/FreeC.Environment.Renamer.html#renameIdent" class="link">Source</a> <a href="#v:renameIdent" class="selflink">#</a></p><div class="doc"><p>Renames a Haskell identifier such that it can be safely used in Coq.</p><p>If the identifier has no name conflict, it is return unchanged.
   If the identifier would cause a name conflict the smallest natural number
   is appended such that the resulting identifier does not cause a name
   conflict anymore. If the identifier already ends with a number, the
   enumeration will start from that number.</p></div></div><div class="top"><p class="src"><a id="v:renameQualid" class="def">renameQualid</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; Qualid <a href="src/FreeC.Environment.Renamer.html#renameQualid" class="link">Source</a> <a href="#v:renameQualid" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="FreeC-Environment-Renamer.html#v:renameIdent" title="FreeC.Environment.Renamer">renameIdent</a></code> but the Coq identifier is wrapped in a <a href="Coq-Qualid.html">Coq.Qualid</a>.</p></div></div><div class="top"><p class="src"><a id="v:renameAgdaQualid" class="def">renameAgdaQualid</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; QName <a href="src/FreeC.Environment.Renamer.html#renameAgdaQualid" class="link">Source</a> <a href="#v:renameAgdaQualid" class="selflink">#</a></p><div class="doc"><p>Generates a new Agda identifier based on the given <code>String</code>, the used
   <code>Agda.QName</code>s from the environment and reserved identifier.</p></div></div><a href="#g:3" id="g:3"><h1>Define and Automatically Rename Identifiers</h1></a><div class="top"><p class="src"><a id="v:renameEntry" class="def">renameEntry</a> :: <a href="FreeC-Environment-Entry.html#t:EnvEntry" title="FreeC.Environment.Entry">EnvEntry</a> -&gt; <a href="FreeC-Environment.html#t:Environment" title="FreeC.Environment">Environment</a> -&gt; <a href="FreeC-Environment-Entry.html#t:EnvEntry" title="FreeC.Environment.Entry">EnvEntry</a> <a href="src/FreeC.Environment.Renamer.html#renameEntry" class="link">Source</a> <a href="#v:renameEntry" class="selflink">#</a></p><div class="doc"><p>Renames the identifier of the given entry such that it does not cause
   any name conflict in the given environment.</p><p>Returns the renamed entry.</p></div></div><div class="top"><p class="src"><a id="v:renameAndAddEntry" class="def">renameAndAddEntry</a> :: <a href="FreeC-Environment-Entry.html#t:EnvEntry" title="FreeC.Environment.Entry">EnvEntry</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> <a href="FreeC-Environment-Entry.html#t:EnvEntry" title="FreeC.Environment.Entry">EnvEntry</a> <a href="src/FreeC.Environment.Renamer.html#renameAndAddEntry" class="link">Source</a> <a href="#v:renameAndAddEntry" class="selflink">#</a></p><div class="doc"><p>Renames the identifier of the given entry such that it does not cause
   any name conflict in the current environment and inserts it into the
   environment.</p><p>The <code><a href="FreeC-Environment-Entry.html#v:entryIdent" title="FreeC.Environment.Entry">entryIdent</a></code> and <code><a href="FreeC-Environment-Entry.html#v:entrySmartIdent" title="FreeC.Environment.Entry">entrySmartIdent</a></code> fields are filled automatically.
   The <code><a href="FreeC-Environment-Entry.html#v:entryName" title="FreeC.Environment.Entry">entryName</a></code> field is used to generate the Coq name.</p><p>If it contains a qualified name, the entry is added to the scope both
   qualified and unqualified.</p><p>When the entry is a top-level entry (i.e., not a variable or type
   variable) the qualified name is also added to the environment.</p><p>Returns the renamed entry.</p></div></div><div class="top"><p class="src"><a id="v:renameAndDefineTypeVar" class="def">renameAndDefineTypeVar</a> <a href="src/FreeC.Environment.Renamer.html#renameAndDefineTypeVar" class="link">Source</a> <a href="#v:renameAndDefineTypeVar" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a></td><td class="doc"><p>The location of the type variable declaration.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>The name of the type variable.</p></td></tr><tr><td class="src">-&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> Qualid</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Associates the identifier of a user defined Haskell type variable with an
   automatically generated Coq identifier that does not cause any name
   conflict in the current environment.</p><p>Returns the generated identifier.</p></div></div><div class="top"><p class="src"><a id="v:renameAndDefineAgdaTypeVar" class="def">renameAndDefineAgdaTypeVar</a> <a href="src/FreeC.Environment.Renamer.html#renameAndDefineAgdaTypeVar" class="link">Source</a> <a href="#v:renameAndDefineAgdaTypeVar" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a></td><td class="doc"><p>The location of the type variable declaration.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>The name of the type variable.</p></td></tr><tr><td class="src">-&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> QName</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Associates the identifier of a user defined Haskell type variable with an
   automatically generated Agda identifier that does not cause any name
   conflict in the current environment.</p><p>Returns the generated identifier.</p></div></div><div class="top"><p class="src"><a id="v:renameAndDefineVar" class="def">renameAndDefineVar</a> <a href="src/FreeC.Environment.Renamer.html#renameAndDefineVar" class="link">Source</a> <a href="#v:renameAndDefineVar" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a></td><td class="doc"><p>The location of the variable declaration.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Whether the variable has not been lifted to the
   free monad.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>The name of the variable.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="FreeC-IR-Syntax-Type.html#t:Type" title="FreeC.IR.Syntax.Type">Type</a></td><td class="doc"><p>The type of the variable if it is known.</p></td></tr><tr><td class="src">-&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> Qualid</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Associates the identifier of a user defined Haskell variable with an
   automatically generated Coq identifier that does not cause any name
   conflict in the current environment.</p><p>Returns the generated identifier.</p></div></div><div class="top"><p class="src"><a id="v:renameAndDefineAgdaVar" class="def">renameAndDefineAgdaVar</a> <a href="src/FreeC.Environment.Renamer.html#renameAndDefineAgdaVar" class="link">Source</a> <a href="#v:renameAndDefineAgdaVar" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a></td><td class="doc"><p>The location of the variable declaration.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Whether the variable has not been lifted to the
   free monad.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>The name of the variable.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="FreeC-IR-Syntax-Type.html#t:Type" title="FreeC.IR.Syntax.Type">Type</a></td><td class="doc"><p>The type of the variable if it is known.</p></td></tr><tr><td class="src">-&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> QName</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Associates the identifier of a user defined Haskell variable with an
   automatically generated Agda identifier that does not cause any name
   conflict in the current environment.</p><p>Returns the generated identifier.</p></div></div><div class="top"><p class="src"><a id="v:renameAndDefineLIRVar" class="def">renameAndDefineLIRVar</a> <a href="src/FreeC.Environment.Renamer.html#renameAndDefineLIRVar" class="link">Source</a> <a href="#v:renameAndDefineLIRVar" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a></td><td class="doc"><p>The location of the variable declaration.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Whether the variable has not been lifted to the
   free monad.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>The name of the variable.</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="FreeC-IR-Syntax-Type.html#t:Type" title="FreeC.IR.Syntax.Type">Type</a></td><td class="doc"><p>The type of the variable if it is known.</p></td></tr><tr><td class="src">-&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> <a href="FreeC-IR-Syntax-Name.html#t:QName" title="FreeC.IR.Syntax.Name">QName</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>