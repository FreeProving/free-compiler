<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FreeC.Backend.Coq.Analysis.ConstantArguments</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/FreeC.Backend.Coq.Analysis.ConstantArguments.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">free-compiler-0.3.0.0: A Haskell to Coq compiler.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">FreeC.Backend.Coq.Analysis.ConstantArguments</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains functions and data structures for analyzing the data
   flow among mutually recursive IR functions. The goal is to find arguments
   that are never changed throughout the computation. One example for such
   a &quot;constant argument&quot; is the function passed to <code>map</code>.</p><pre>map f xs = case xs of { [] -&gt; []; (:) x xs' -&gt; (:) (f x) (map f xs') }</pre><p>The argument <code>f</code> is passed unchanged to <code>map</code> in every recursive call.</p><p>Functions with such recursive calls can be declared inside a <code>Section</code>
   sentence in Coq where the declaration of <code>f</code> is moved outside the
   declaration of <code>map</code>
   (see also <a href="FreeC-Backend-Coq-Converter-FuncDecl-Rec-WithSections.html">FreeC.Backend.Coq.Converter.FuncDecl.Rec.WithSections</a>).</p><pre>Section map_section.
   &#8942;
  Variable f : (* &#8230; *).
   &#8942;
  Definition map (xs : &#8230;) := (* &#8230; *).
End map_section.</pre><p>Within the section, <code>map</code> has only one argument <code>xs</code> but can use <code>f</code>
   normally. Outside the section it appears as if <code>map</code> has an additional
   argument <code>f</code>. The section aids Coq's to recognize whether recursive
   functions that use <code>map</code> and have recursive calls in <code>f</code> terminate.
   See <code>doc/CustomPragmas/DecreasingArgumentPragma.md</code> for details and
   examples.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ConstArg">ConstArg</a> = <a href="#v:ConstArg">ConstArg</a> {<ul class="subs"><li><a href="#v:constArgIdents">constArgIdents</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="FreeC-IR-Syntax-Name.html#t:QName" title="FreeC.IR.Syntax.Name">QName</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:constArgIndicies">constArgIndicies</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="FreeC-IR-Syntax-Name.html#t:QName" title="FreeC.IR.Syntax.Name">QName</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:constArgFreshIdent">constArgFreshIdent</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li></ul>}</li><li class="src short"><a href="#v:identifyConstArgs">identifyConstArgs</a> :: [<a href="FreeC-IR-Syntax-FuncDecl.html#t:FuncDecl" title="FreeC.IR.Syntax.FuncDecl">FuncDecl</a>] -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> [<a href="FreeC-Backend-Coq-Analysis-ConstantArguments.html#t:ConstArg" title="FreeC.Backend.Coq.Analysis.ConstantArguments">ConstArg</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConstArg" class="def">ConstArg</a> <a href="src/FreeC.Backend.Coq.Analysis.ConstantArguments.html#ConstArg" class="link">Source</a> <a href="#t:ConstArg" class="selflink">#</a></p><div class="doc"><p>Data type that represents a constant argument shared by multiple
   mutually recursive functions.</p><p>Contains the names and indicies of the corrsponding arguments of the
   function declarations and a fresh identifier for the <code>Variable</code> sentence
   that replaces the constant argument.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ConstArg" class="def">ConstArg</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:constArgIdents" class="def">constArgIdents</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="FreeC-IR-Syntax-Name.html#t:QName" title="FreeC.IR.Syntax.Name">QName</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>Maps the names of functions that share the constant argument to the
   names of the corresponding function arguments.</p></div></li><li><dfn class="src"><a id="v:constArgIndicies" class="def">constArgIndicies</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="FreeC-IR-Syntax-Name.html#t:QName" title="FreeC.IR.Syntax.Name">QName</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Maps the names of functions that share the constant argument to the
   index of the corresponding function argument.</p></div></li><li><dfn class="src"><a id="v:constArgFreshIdent" class="def">constArgFreshIdent</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>A fresh identifier for the constant argument.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:ConstArg" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConstArg:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="FreeC-Backend-Coq-Analysis-ConstantArguments.html#t:ConstArg" title="FreeC.Backend.Coq.Analysis.ConstantArguments">ConstArg</a></span> <a href="src/FreeC.Backend.Coq.Analysis.ConstantArguments.html#line-65" class="link">Source</a> <a href="#t:ConstArg" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConstArg:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="FreeC-Backend-Coq-Analysis-ConstantArguments.html">FreeC.Backend.Coq.Analysis.ConstantArguments</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="FreeC-Backend-Coq-Analysis-ConstantArguments.html#t:ConstArg" title="FreeC.Backend.Coq.Analysis.ConstantArguments">ConstArg</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="FreeC-Backend-Coq-Analysis-ConstantArguments.html#t:ConstArg" title="FreeC.Backend.Coq.Analysis.ConstantArguments">ConstArg</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="FreeC-Backend-Coq-Analysis-ConstantArguments.html#t:ConstArg" title="FreeC.Backend.Coq.Analysis.ConstantArguments">ConstArg</a>] -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:identifyConstArgs" class="def">identifyConstArgs</a> :: [<a href="FreeC-IR-Syntax-FuncDecl.html#t:FuncDecl" title="FreeC.IR.Syntax.FuncDecl">FuncDecl</a>] -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> [<a href="FreeC-Backend-Coq-Analysis-ConstantArguments.html#t:ConstArg" title="FreeC.Backend.Coq.Analysis.ConstantArguments">ConstArg</a>] <a href="src/FreeC.Backend.Coq.Analysis.ConstantArguments.html#identifyConstArgs" class="link">Source</a> <a href="#v:identifyConstArgs" class="selflink">#</a></p><div class="doc"><p>Identifies function arguments that can be moved to a <code>Section</code>
   sentence in Coq.</p><p>The call graph of the given function declarations should be strongly
   connected.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>