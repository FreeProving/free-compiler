<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Main.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">freec</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Main</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This is the main module for the compiler's command line interface.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:main">main</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:compiler">compiler</a> :: <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> ()</li><li class="src short"><a href="#v:selectFrontend">selectFrontend</a> :: <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="FreeC-Frontend.html#t:Frontend" title="FreeC.Frontend">Frontend</a></li><li class="src short"><a href="#v:selectBackend">selectBackend</a> :: <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="FreeC-Backend.html#t:Backend" title="FreeC.Backend">Backend</a></li><li class="src short"><a href="#v:parseInputFile">parseInputFile</a> :: (<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-SrcSpan.html#t:SrcFile" title="FreeC.IR.SrcSpan">SrcFile</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a>) -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a></li><li class="src short"><a href="#v:sortInputModules">sortInputModules</a> :: [<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a>] -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> [<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a>]</li><li class="src short"><a href="#v:convertInputModule">convertInputModule</a> :: (<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> (<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Name.html#t:ModName" title="FreeC.IR.Syntax.Name">ModName</a>, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>)</li><li class="src short"><a href="#v:outputModule">outputModule</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Name.html#t:ModName" title="FreeC.IR.Syntax.Name">ModName</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> ()</li><li class="src short"><a href="#v:loadRequiredModules">loadRequiredModules</a> :: <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> ()</li><li class="src short"><a href="#v:loadImport">loadImport</a> :: <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:ImportDecl" title="FreeC.IR.Syntax.Module">ImportDecl</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> ()</li><li class="src short"><a href="#v:loadModule">loadModule</a> :: <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a> -&gt; <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Name.html#t:ModName" title="FreeC.IR.Syntax.Name">ModName</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> ()</li><li class="src short"><a href="#v:loadPrelude">loadPrelude</a> :: <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Main.html#main" class="link">Source</a> <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>The main function of the compiler.</p><p>Runs the <code><a href="Main.html#v:compiler" title="Main">compiler</a></code> application and prints all reported messages
   to <code>stderr</code>.</p></div></div><div class="top"><p class="src"><a id="v:compiler" class="def">compiler</a> :: <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> () <a href="src/Main.html#compiler" class="link">Source</a> <a href="#v:compiler" class="selflink">#</a></p><div class="doc"><p>Parses and handles the command line options of the application.</p><p>Prints the help message if the <code>--help</code> option or no input file was
   specified. Otherwise all input files are processed (see
   <code><a href="Main.html#v:convertInputModule" title="Main">convertInputModule</a></code>). If a fatal message is reported while processing
   any input file, the compiler will exit. All reported messages will be
   printed to <code>stderr</code>.</p></div></div><div class="top"><p class="src"><a id="v:selectFrontend" class="def">selectFrontend</a> :: <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="FreeC-Frontend.html#t:Frontend" title="FreeC.Frontend">Frontend</a> <a href="src/Main.html#selectFrontend" class="link">Source</a> <a href="#v:selectFrontend" class="selflink">#</a></p><div class="doc"><p>Selects the correct frontend or throws an error if such a frontend does
   not exist.</p></div></div><div class="top"><p class="src"><a id="v:selectBackend" class="def">selectBackend</a> :: <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="FreeC-Backend.html#t:Backend" title="FreeC.Backend">Backend</a> <a href="src/Main.html#selectBackend" class="link">Source</a> <a href="#v:selectBackend" class="selflink">#</a></p><div class="doc"><p>Selects the correct backend or throws an error if such a backend does
   not exist.</p></div></div><div class="top"><p class="src"><a id="v:parseInputFile" class="def">parseInputFile</a> :: (<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-SrcSpan.html#t:SrcFile" title="FreeC.IR.SrcSpan">SrcFile</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a>) -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a> <a href="src/Main.html#parseInputFile" class="link">Source</a> <a href="#v:parseInputFile" class="selflink">#</a></p><div class="doc"><p>Parses the given input file with the given parser function.</p></div></div><div class="top"><p class="src"><a id="v:sortInputModules" class="def">sortInputModules</a> :: [<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a>] -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> [<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a>] <a href="src/Main.html#sortInputModules" class="link">Source</a> <a href="#v:sortInputModules" class="selflink">#</a></p><div class="doc"><p>Sorts the given modules based on their dependencies.</p><p>If the module dependencies form a cycle, a fatal error is reported.</p></div></div><div class="top"><p class="src"><a id="v:convertInputModule" class="def">convertInputModule</a> :: (<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> (<a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Name.html#t:ModName" title="FreeC.IR.Syntax.Name">ModName</a>, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) <a href="src/Main.html#convertInputModule" class="link">Source</a> <a href="#v:convertInputModule" class="selflink">#</a></p><div class="doc"><p>Converts the given module with the given converter function.</p><p>The resulting string is written to the console or output file.</p></div></div><div class="top"><p class="src"><a id="v:outputModule" class="def">outputModule</a> :: <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Name.html#t:ModName" title="FreeC.IR.Syntax.Name">ModName</a> -&gt; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> () <a href="src/Main.html#outputModule" class="link">Source</a> <a href="#v:outputModule" class="selflink">#</a></p><div class="doc"><p>Output a module that has been generated from a IR module
   with the given name.</p><p>The generated file has the given file extension.</p></div></div><div class="top"><p class="src"><a id="v:loadRequiredModules" class="def">loadRequiredModules</a> :: <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> () <a href="src/Main.html#loadRequiredModules" class="link">Source</a> <a href="#v:loadRequiredModules" class="selflink">#</a></p><div class="doc"><p>Loads the environments of modules imported by the given modules from
   their environment file.</p></div></div><div class="top"><p class="src"><a id="v:loadImport" class="def">loadImport</a> :: <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Module.html#t:ImportDecl" title="FreeC.IR.Syntax.Module">ImportDecl</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> () <a href="src/Main.html#loadImport" class="link">Source</a> <a href="#v:loadImport" class="selflink">#</a></p><div class="doc"><p>Loads the environment of the module imported by the given declaration.</p></div></div><div class="top"><p class="src"><a id="v:loadModule" class="def">loadModule</a> :: <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-SrcSpan.html#t:SrcSpan" title="FreeC.IR.SrcSpan">SrcSpan</a> -&gt; <a href="file:///home/runner/work/free-compiler/free-compiler/dist-newstyle/build/x86_64-linux/ghc-8.6.5/free-compiler-0.2.0.0/l/freec-internal/doc/html/free-compiler/FreeC-IR-Syntax-Name.html#t:ModName" title="FreeC.IR.Syntax.Name">ModName</a> -&gt; <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> () <a href="src/Main.html#loadModule" class="link">Source</a> <a href="#v:loadModule" class="selflink">#</a></p><div class="doc"><p>Loads the interface of the module with the given name from the
   configured import path or base library.</p><p>The given source span is used in error messages if the module could
   not be found. Modules from the base library always take precedence.
   Allowed file extensions for module interface files are <code>.json</code> (for
   generated module interfaces) and <code>.toml</code> (for manually maintained
   module interface files).</p></div></div><div class="top"><p class="src"><a id="v:loadPrelude" class="def">loadPrelude</a> :: <a href="FreeC-Monad-Application.html#t:Application" title="FreeC.Monad.Application">Application</a> () <a href="src/Main.html#loadPrelude" class="link">Source</a> <a href="#v:loadPrelude" class="selflink">#</a></p><div class="doc"><p>Loads the <code>Prelude</code> module from the base library.</p><p>This is the only module that we have to load explicitly, because the
   import of <code>Prelude</code> can be omitted.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>