<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FreeC.Pass.KindCheckPass</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/FreeC.Pass.KindCheckPass.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">free-compiler-0.2.0.0: A Haskell to Coq compiler.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">FreeC.Pass.KindCheckPass</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Testing interface</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains a compiler pass that checks if all type constructors
   in type expressions are fully applied and type variables are not applied.</p><p>For simplification, all type variables have kind <code>*</code>. Therefore, all type
   constructors must be fully applied, so partial application of type
   constructors is not allowed. This pass also checks that type variables and
   function types do not occur on the left-hand side of a type application.
   If a type expression is found that does not match this rules, a fatal
   error is reported. For simplification, a type expression that satisfies all
   of these rules is called kind-correct.</p><h1>Example</h1><p>The following module contains three invalid definitions.</p><pre>module Failures where

data MyList a = MyNil | MyCons a (MyList a)

-- Invalid because 'MyList' is applied to 2 arguments.
fail1 :: MyList (MyList a a) -&gt; Integer
fail1 x = 42

-- Invalid because type variable 'a' is on the right-hand side of a type
-- application.
fail2 :: a a -&gt; Integer
fail2 x = 42

-- Fails because 'MyList' is applied to no arguments.
fail3 :: MyList -&gt; Integer
fail3 x = 42</pre><h1>Specification</h1><h2>Preconditions</h2><p>The environment must contain entries for all type constructors that are
   used in the module.</p><h2>Translations</h2><p>The AST is not changed. It is checked if all type constructor applications
   have the right number of arguments. It is also checked whether there are
   type variables or function types on the left-hand side of type
   applications. In these cases, a fatal error is reported. Otherwise, the
   pass finishes with the given module unchanged.</p><h2>Postcondition</h2><p>All type constructors in type expressions are applied to the correct
   number of arguments and there are no type variables or function types on
   the left-hand side of type applications.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:kindCheckPass">kindCheckPass</a> :: <a href="FreeC-Pass.html#t:Pass" title="FreeC.Pass">Pass</a> <a href="FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a></li><li class="src short"><a href="#v:checkType">checkType</a> :: <a href="FreeC-IR-Syntax-Type.html#t:Type" title="FreeC.IR.Syntax.Type">Type</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:kindCheckPass" class="def">kindCheckPass</a> :: <a href="FreeC-Pass.html#t:Pass" title="FreeC.Pass">Pass</a> <a href="FreeC-IR-Syntax-Module.html#t:Module" title="FreeC.IR.Syntax.Module">Module</a> <a href="src/FreeC.Pass.KindCheckPass.html#kindCheckPass" class="link">Source</a> <a href="#v:kindCheckPass" class="selflink">#</a></p><div class="doc"><p>A compiler pass that checks whether there are type applications with type
   variables or function types on the left-hand side in the module and checks
   whether all type construcors in the module are fully applied.</p></div></div><a href="#g:1" id="g:1"><h1>Testing interface</h1></a><div class="top"><p class="src"><a id="v:checkType" class="def">checkType</a> :: <a href="FreeC-IR-Syntax-Type.html#t:Type" title="FreeC.IR.Syntax.Type">Type</a> -&gt; <a href="FreeC-Monad-Converter.html#t:Converter" title="FreeC.Monad.Converter">Converter</a> () <a href="src/FreeC.Pass.KindCheckPass.html#checkType" class="link">Source</a> <a href="#v:checkType" class="selflink">#</a></p><div class="doc"><p>Checks if all type constructors have the correct number of arguments.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>